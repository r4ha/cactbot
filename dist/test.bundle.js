!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}({31:function(e,t,n){"use strict";n.r(t);n(5);addOverlayListener("ChangeZone",e=>{document.getElementById("currentZone").innerText=`currentZone: ${e.zoneName} (${e.zoneID})`}),addOverlayListener("onInCombatChangedEvent",e=>{document.getElementById("inCombat").innerText="inCombat: act: "+(e.detail.inACTCombat?"yes":"no")+" game: "+(e.detail.inGameCombat?"yes":"no")}),addOverlayListener("onPlayerChangedEvent",e=>{document.getElementById("hp").innerText=e.detail.currentHP+"/"+e.detail.maxHP+" ("+e.detail.currentShield+")",document.getElementById("mp").innerText=e.detail.currentMP+"/"+e.detail.maxMP,document.getElementById("cp").innerText=e.detail.currentCP+"/"+e.detail.maxCP,document.getElementById("gp").innerText=e.detail.currentGP+"/"+e.detail.maxGP,document.getElementById("job").innerText=e.detail.level+" "+e.detail.job,document.getElementById("debug").innerText=e.detail.debugJob;const t=e.detail.jobDetail;"RDM"===e.detail.job?document.getElementById("jobinfo").innerText=t.whiteMana+" | "+t.blackMana:"WAR"===e.detail.job?document.getElementById("jobinfo").innerText=t.beast:"DRK"===e.detail.job?document.getElementById("jobinfo").innerText=t.blood+" | "+t.darksideMilliseconds+" | "+t.darkArts+" | "+t.livingShadowMilliseconds:"GNB"===e.detail.job?document.getElementById("jobinfo").innerText=t.cartridges+t.continuationState:"PLD"===e.detail.job?document.getElementById("jobinfo").innerText=t.oath:"BRD"===e.detail.job?document.getElementById("jobinfo").innerText=t.songName+" | "+t.songProcs+" | "+t.soulGauge+" | "+t.songMilliseconds:"DNC"===e.detail.job?document.getElementById("jobinfo").innerText=t.feathers+" | "+t.esprit+" | ("+t.steps+") | "+t.currentStep:"NIN"===e.detail.job?document.getElementById("jobinfo").innerText=t.hutonMilliseconds+" | "+t.ninkiAmount:"DRG"===e.detail.job?document.getElementById("jobinfo").innerText=t.bloodMilliseconds+" | "+t.lifeMilliseconds+" | "+t.eyesAmount:"BLM"===e.detail.job?document.getElementById("jobinfo").innerText=t.umbralStacks+" ("+t.umbralMilliseconds+") | "+t.umbralHearts+" | "+t.foulCount+" "+t.enochian+" ("+t.nextPolyglotMilliseconds+")":"THM"===e.detail.job?document.getElementById("jobinfo").innerText=t.umbralStacks+" ("+t.umbralMilliseconds+")":"WHM"===e.detail.job?document.getElementById("jobinfo").innerText=t.lilyStacks+" ("+t.lilyMilliseconds+") | "+t.bloodlilyStacks:"SMN"===e.detail.job?document.getElementById("jobinfo").innerText=t.aetherflowStacks+" | "+t.dreadwyrmStacks+" | "+t.bahamutStance+" | "+t.bahamutSummoned+" ( "+t.stanceMilliseconds+") | "+t.phoenixReady:"SCH"===e.detail.job?document.getElementById("jobinfo").innerText=t.aetherflowStacks+" | "+t.fairyGauge+" | "+t.fairyStatus+" ("+t.fairyMilliseconds+")":"ACN"===e.detail.job?document.getElementById("jobinfo").innerText=t.aetherflowStacks:"AST"===e.detail.job?document.getElementById("jobinfo").innerText=t.heldCard+" ("+t.arcanums+")":"MNK"===e.detail.job?document.getElementById("jobinfo").innerText=t.lightningStacks+" ("+t.lightningMilliseconds+") | "+t.chakraStacks+" | "+t.lightningTimerFrozen:"PGL"===e.detail.job?document.getElementById("jobinfo").innerText=t.lightningStacks+" ("+t.lightningMilliseconds+")":"MCH"===e.detail.job?document.getElementById("jobinfo").innerText=t.heat+" ("+t.overheatMilliseconds+") | "+t.battery+" ("+t.batteryMilliseconds+") | last: "+t.lastBatteryAmount+" | "+t.overheatActive+" | "+t.robotActive:"SAM"===e.detail.job?document.getElementById("jobinfo").innerText=t.kenki+" | "+t.meditationStacks+"("+t.setsu+","+t.getsu+","+t.ka+")":document.getElementById("jobinfo").innerText="",document.getElementById("pos").innerText=e.detail.pos.x.toFixed(2)+","+e.detail.pos.y.toFixed(2)+","+e.detail.pos.z.toFixed(2),document.getElementById("rotation").innerText=e.detail.rotation,document.getElementById("bait").innerText=e.detail.bait}),addOverlayListener("EnmityTargetData",e=>{const t=e.Target;t?(document.getElementById("target").innerText=t.Name,document.getElementById("tid").innerText=t.ID.toString(16),document.getElementById("tdistance").innerText=t.Distance):(document.getElementById("target").innerText="--",document.getElementById("tid").innerText="",document.getElementById("tdistance").innerText="")}),addOverlayListener("onGameExistsEvent",e=>{}),addOverlayListener("onGameActiveChangedEvent",e=>{}),addOverlayListener("onLogEvent",e=>{for(let t=0;t<e.detail.logs.length;t++){const n=e.detail.logs[t].match("00:0038:tts:(.*)");n&&callOverlayHandler({call:"cactbotSay",text:n[1]})}}),addOverlayListener("onUserFileChanged",e=>{console.log(`User file ${e.file} changed!`)}),addOverlayListener("FileChanged",e=>{console.log(`File ${e.file} changed!`)}),callOverlayHandler({call:"cactbotRequestState"})},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(()=>{const e=["GLA","PLD","MRD","WAR","DRK","GNB"],t=["CNJ","WHM","SCH","AST"],n=["PGL","MNK","LNC","DRG","ROG","NIN","SAM"],o=["ARC","BRD","DNC","MCH"],i=["BLU","RDM","BLM","SMN","ACN","THM"],l=[...n,...o,...i],r=["CRP","BSM","ARM","GSM","LTW","WVR","ALC","CUL"],a=["MIN","BTN","FSH"],d=["BLU",...e,...n],s=["BLU",...e,...o],c=["BLM","BLU",...t],u=[...n],m=[...i],b=["BLU","BRD",...t],g=["tank","healer","dps","crafter","gatherer","none"],y={0:"NONE",1:"GLA",2:"PGL",3:"MRD",4:"LNC",5:"ARC",6:"CNJ",7:"THM",8:"CRP",9:"BSM",10:"ARM",11:"GSM",12:"LTW",13:"WVR",14:"ALC",15:"CUL",16:"MIN",17:"BTN",18:"FSH",19:"PLD",20:"MNK",21:"WAR",22:"DRG",23:"BRD",24:"WHM",25:"BLM",26:"ACN",27:"SMN",28:"SCH",29:"ROG",30:"NIN",31:"MCH",32:"DRK",33:"AST",34:"SAM",35:"RDM",36:"BLU",37:"GNB",38:"DNC"},f=(()=>{const n=(e,t,n)=>t.forEach(t=>e.set(t,n)),o=new Map([["NONE","none"]]);return n(o,e,"tank"),n(o,t,"healer"),n(o,l,"dps"),n(o,r,"crafter"),n(o,a,"gatherer"),new Proxy(o,{get:function(e,t){return e.has(t)?e.get(t):(console.log("Unknown job role "+t),"")}})})();return{jobEnumToJob:e=>y[e],jobToJobEnum:e=>Object.keys(y).find(t=>y[t]===e),jobToRole:e=>f[e],getAllRoles:()=>g,isTankJob:t=>e.includes(t),isHealerJob:e=>t.includes(e),isMeleeDpsJob:e=>n.includes(e),isRangedDpsJob:e=>o.includes(e),isCasterDpsJob:e=>i.includes(e),isDpsJob:e=>l.includes(e),isCraftingJob:e=>r.includes(e),isGatheringJob:e=>a.includes(e),isCombatJob:function(e){return!this.isCraftingJob(e)&&!this.isGatheringJob(e)},canStun:e=>d.includes(e),canSilence:e=>s.includes(e),canSleep:e=>c.includes(e),canCleanse:e=>b.includes(e),canFeint:e=>u.includes(e),canAddle:e=>m.includes(e)}})();!function(){if("undefined"==typeof location)return;const e=/[\?&]OVERLAY_WS=([^&]+)/.exec(location.href);let t=null,n=[],o=0;const i={},l={};let r=null;if(e){r=e=>{n?n.push(e):t.send(JSON.stringify(e))};const o=function(){t=new WebSocket(e[1]),t.addEventListener("error",e=>{console.error(e)}),t.addEventListener("open",()=>{console.log("Connected!");const e=n;n=null,r({call:"subscribe",events:Object.keys(l)});for(const t of e)r(t)}),t.addEventListener("message",e=>{try{e=JSON.parse(e.data)}catch(t){return void console.error("Invalid message received: ",e)}void 0!==e.rseq&&i[e.rseq]?(i[e.rseq](e),delete i[e.rseq]):a(e)}),t.addEventListener("close",()=>{n=[],console.log("Trying to reconnect..."),setTimeout(()=>{o()},300)})};o()}else{r=(e,t)=>{n?n.push([e,t]):OverlayPluginApi.callHandler(JSON.stringify(e),t)};const e=function(){if(!window.OverlayPluginApi||!window.OverlayPluginApi.ready)return void setTimeout(e,300);const t=n;n=null,window.__OverlayCallback=a,r({call:"subscribe",events:Object.keys(l)},null);for(const[e,n]of t)r(e,n)};e()}function a(e){if(l[e.type])for(const t of l[e.type])t(e)}window.dispatchOverlayEvent=a,window.addOverlayListener=(e,t)=>{l[e]||(l[e]=[],n||r({call:"subscribe",events:[e]})),l[e].push(t)},window.removeOverlayListener=(e,t)=>{if(l[e]){const n=l[e],o=n.indexOf(t);o>-1&&n.splice(o,1)}},window.callOverlayHandler=e=>{let n;return t?(e.rseq=o++,n=new Promise((t,n)=>{i[e.rseq]=t}),r(e)):n=new Promise(t=>{r(e,e=>{t(null===e?null:JSON.parse(e))})}),n}}()}});