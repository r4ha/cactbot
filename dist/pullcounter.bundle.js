!function(e){var a={};function t(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)t.d(r,n,function(a){return e[a]}.bind(null,n));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=29)}({0:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var r=t(4);const n=(e,a,t)=>{void 0===e&&(e={});const n=[];for(const e of Object.values(t))"object"==typeof e&&n.push(e.field);r.a.validateParams(e,a,["capture",...n]);const o=r.a.trueIfUndefined(e.capture),i=Object.keys(t);let s;if(o)s=i[i.length-1];else{s=0;for(const a of i){if("object"!=typeof t[a])continue;t[a].field in e&&(s=a)}}let l="^",d=-1;for(let n in t){n=parseInt(n);const i=n-d-1;1===i?l+="\\y{NetField}":i>1&&(l+="\\y{NetField}{"+i+"}"),d=n;const u=t[n];if("object"!=typeof u)throw new Error(`${a}: invalid value: ${JSON.stringify(u)}`);const c=t[n].field,p="value"in t[n]?t[n].value.toString():"[^|]*";if(l+=c?r.a.maybeCapture(o,c,e[c],p)+"\\|":p+"\\|",n>=s)break}return r.a.parse(l)};class o{static startsUsing(e){return n(e,"startsUsing",{0:{field:"type",value:"20"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"id"},5:{field:"ability"},6:{field:"targetId"},7:{field:"target"},8:{field:"castTime"}})}static ability(e){return n(e,"ability",{0:{field:"type",value:"2[12]"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"id"},5:{field:"ability"},6:{field:"targetId"},7:{field:"target"}})}static abilityFull(e){return n(e,"abilityFull",{0:{field:"type",value:"2[12]"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"id"},5:{field:"ability"},6:{field:"targetId"},7:{field:"target"},8:{field:"flags"},9:{field:"damage"},24:{field:"targetCurrentHp"},25:{field:"targetMaxHp"},40:{field:"x"},41:{field:"y"},42:{field:"z"},43:{field:"heading"}})}static headMarker(e){return n(e,"headMarker",{0:{field:"type",value:"27"},1:{field:"timestamp"},2:{field:"targetId"},3:{field:"target"},6:{field:"id"}})}static addedCombatant(e){return n(e,"addedCombatant",{0:{field:"type",value:"03"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"}})}static addedCombatantFull(e){return n(e,"addedCombatantFull",{0:{field:"type",value:"03"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"},4:{field:"job"},5:{field:"level"},6:{field:"ownerId"},8:{field:"world"},9:{field:"npcNameId"},10:{field:"npcBaseId"},11:{field:"currentHp"},12:{field:"hp"},17:{field:"x"},18:{field:"y"},19:{field:"z"},20:{field:"heading"}})}static removingCombatant(e){return n(e,"removingCombatant",{0:{field:"type",value:"04"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"},12:{field:"hp"}})}static gainsEffect(e){return n(e,"gainsEffect",{0:{field:"type",value:"26"},1:{field:"timestamp"},2:{field:"effectId"},3:{field:"effect"},4:{field:"duration"},5:{field:"sourceId"},6:{field:"source"},7:{field:"targetId"},8:{field:"target"},9:{field:"count"}})}static statusEffectExplicit(e){return n(e,"statusEffectExplicit",{0:{field:"type",value:"38"},1:{field:"timestamp"},2:{field:"targetId"},3:{field:"target"},5:{field:"hp"},6:{field:"maxHp"},11:{field:"x"},12:{field:"y"},13:{field:"z"},14:{field:"heading"},15:{field:"data0"},16:{field:"data1"},17:{field:"data2"},18:{field:"data3"},19:{field:"data4"}})}static losesEffect(e){return n(e,"losesEffect",{0:{field:"type",value:"30"},1:{field:"timestamp"},2:{field:"effectId"},3:{field:"effect"},5:{field:"sourceId"},6:{field:"source"},7:{field:"targetId"},8:{field:"target"},9:{field:"count"}})}static tether(e){return n(e,"tether",{0:{field:"type",value:"35"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"targetId"},5:{field:"target"},8:{field:"id"}})}static wasDefeated(e){return n(e,"wasDefeated",{0:{field:"type",value:"25"},1:{field:"timestamp"},2:{field:"targetId"},3:{field:"target"},4:{field:"sourceId"},5:{field:"source"}})}static echo(e){return void 0===e&&(e={}),r.a.validateParams(e,"echo",["type","timestamp","code","name","line","capture"]),e.code="0038",o.gameLog(e)}static dialog(e){return void 0===e&&(e={}),r.a.validateParams(e,"dialog",["type","timestamp","code","name","line","capture"]),e.code="0044",o.gameLog(e)}static message(e){return void 0===e&&(e={}),r.a.validateParams(e,"message",["type","timestamp","code","name","line","capture"]),e.code="0839",o.gameLog(e)}static gameLog(e){return n(e,"gameLog",{0:{field:"type",value:"00"},1:{field:"timestamp"},2:{field:"code"},3:{field:"name"},4:{field:"line"}})}static gameNameLog(e){return o.gameLog(e)}static statChange(e){return n(e,"statChange",{0:{field:"type",value:"12"},1:{field:"timestamp"},2:{field:"job"},3:{field:"strength"},4:{field:"dexterity"},5:{field:"vitality"},6:{field:"intelligence"},7:{field:"mind"},8:{field:"piety"},9:{field:"attackPower"},10:{field:"directHit"},11:{field:"criticalHit"},12:{field:"attackMagicPotency"},13:{field:"healMagicPotency"},14:{field:"determination"},15:{field:"skillSpeed"},16:{field:"spellSpeed"},18:{field:"tenacity"}})}static changeZone(e){return n(e,"changeZone",{0:{field:"type",value:"01"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"}})}static network6d(e){return n(e,"network6d",{0:{field:"type",value:"33"},1:{field:"timestamp"},2:{field:"instance"},3:{field:"command"},4:{field:"data0"},5:{field:"data1"},6:{field:"data2"},7:{field:"data3"}})}}},1:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return h}));const r=["alarmText","alertText","infoText","response","tts"],n={info:"infoText",alert:"alertText",alarm:"alarmText"},o=e=>{if(!(e in n))throw new Error(`Invalid severity: ${e}.`);return n[e]},i=e=>e?o(e):"infoText",s=e=>e?o(e):"alertText",l=e=>e?o(e):"alarmText",d=e=>e&&e.target!==e.source?e.target||e[1]:null,u=e=>e.source||e[0],c=function(e,a,t,r){const n={};return e!==t?(n[e]=a,n[t]=r):n[e]=(e,t,n)=>{a(e,t,n)||r(e,t,n)},n},p=e=>"4"!==e[0],m=(e,a)=>(t,r,n)=>(n.responseOutputStrings={text:a},{[e]:(e,a,t)=>t.text()}),h={tankBuster:(e,a)=>{const t={noTarget:{en:"Tank Buster",de:"Tank buster",fr:"Tank buster",ja:"タンクバスター",cn:"坦克死刑",ko:"탱버"},busterOnYou:{en:"Tank Buster on YOU",de:"Tank buster auf DIR",fr:"Tank buster sur VOUS",ja:"自分にタンクバスター",cn:"死刑点名",ko:"탱버 대상자"},busterOnTarget:{en:"Tank Buster on ${player}",de:"Tank buster auf ${player}",fr:"Tank buster sur ${player}",ja:"${player}にタンクバスター",cn:"死刑 点 ${player}",ko:'"${player}" 탱버'}},r=c(s(e),(e,a,t)=>{const r=d(a);if(!r){if("tank"!==e.role&&"healer"!==e.role)return;return t.noTarget()}if(r===e.me)return t.busterOnYou()},i(a),(e,a,t)=>{const r=d(a);if(!r){if("tank"===e.role||"healer"===e.role)return;return t.noTarget()}if(r!==e.me)return t.busterOnTarget({player:e.ShortName(r)})});return(e,a,n)=>(n.responseOutputStrings=t,r)},tankBusterSwap:(e,a)=>{const t={tankSwap:{en:"Tank Swap!",de:"Tankwechsel!",fr:"Tank swap !",ja:"タンクスイッチ",cn:"换T！",ko:"탱 교대"},busterOnYou:{en:"Tank Buster on YOU",de:"Tank buster auf DIR",fr:"Tank buster sur VOUS",ja:"自分にタンクバスター",cn:"死刑点名",ko:"탱버 대상자"},busterOnTarget:{en:"Tank Buster on ${player}",de:"Tank buster auf ${player}",fr:"Tank buster sur ${player}",ja:"${player}にタンクバスター",cn:"死刑 点 ${player}",ko:'"${player}" 탱버'}},r=c(l(a),(e,a,t)=>{const r=d(a);if("tank"===e.role&&r!==e.me)return t.tankSwap()},s(e),(e,a,t)=>{const r=d(a);if("tank"!==e.role||r===e.me)return r===e.me?t.busterOnYou():t.busterOnTarget({player:e.ShortName(r)})});return(e,a,n)=>(n.responseOutputStrings=t,r)},tankCleave:e=>(a,t,r)=>(r.responseOutputStrings={cleaveOnYou:{en:"Tank cleave on YOU",de:"Tank Cleave aud DIR",fr:"Tank cleave sur VOUS",ja:"自分に前方範囲攻撃",cn:"顺劈点名",ko:"나에게 광역 탱버"},cleaveNoTarget:{en:"Tank cleave",de:"Tank Cleave",fr:"Tank cleave",ja:"前方範囲攻撃",cn:"顺劈",ko:"광역 탱버"},avoidCleave:{en:"Avoid tank cleave",de:"Tank Cleave ausweichen",fr:"Évitez le tank cleave",ja:"前方範囲攻撃を避け",cn:"远离顺劈",ko:"광역 탱버 피하기"}},{[i(e)]:(e,a,t)=>{if("tank"===e.role){return d(a)===e.me?t.cleaveOnYou():t.cleaveNoTarget()}return t.avoidCleave()}}),miniBuster:e=>m(i(e),{en:"Mini Buster",de:"Kleiner Tankbuster",fr:"Mini Buster",ja:"ミニバスター",cn:"小死刑",ko:"약한 탱버"}),aoe:e=>m(i(e),{en:"aoe",de:"AoE",fr:"AoE",ja:"AoE",cn:"AoE",ko:"전체 공격"}),bigAoe:e=>m(i(e),{en:"big aoe!",de:"Große AoE!",fr:"Grosse AoE !",ja:"大ダメージAoE",cn:"大AoE伤害！",ko:"강한 전체 공격!"}),spread:e=>m(i(e),{en:"Spread",de:"Verteilen",fr:"Dispersez-vous",ja:"散開",cn:"分散",ko:"산개"}),stackMarker:e=>m(s(e),{en:"Stack",de:"Sammeln",fr:"Packez-vous",ja:"頭割り",cn:"分摊",ko:"쉐어뎀"}),getTogether:e=>m(s(e),{en:"Stack",de:"Sammeln",fr:"Packez-vous",ja:"頭割り",cn:"分摊",ko:"쉐어뎀"}),stackMarkerOn:e=>(a,t,r)=>(r.responseOutputStrings={stackOnYou:{en:"Stack on YOU",de:"Auf DIR sammeln",fr:"Package sur VOUS",ja:"自分にスタック",cn:"集合点名",ko:"쉐어징 대상자"},stackOnTarget:{en:"Stack on ${player}",de:"Auf ${player} sammeln",fr:"Packez-vous sur ${player}",ja:"${player}にスタック",cn:"靠近 ${player}集合",ko:'"${player}" 쉐어징'}},{[s(e)]:(e,a,t)=>{const r=d(a);return r===e.me?t.stackOnYou():t.stackOnTarget({player:e.ShortName(r)})}}),stackMiddle:e=>m(i(e),{en:"Stack in middle",fr:"Packez-vous au milieu",de:"In der Mitte sammeln",ja:"中央でスタック",cn:"中间集合",ko:"중앙에서 모이기"}),doritoStack:e=>m(s(e),{en:"Dorito Stack",de:"Mit Marker sammeln",fr:"Packez les marquages",ja:"マーカー付けた人とスタック",cn:"点名集合",ko:"징끼리 모이기"}),spreadThenStack:e=>m(s(e),{en:"Spread => Stack",de:"Verteilen => Sammeln",fr:"Dispersion => Package",ja:"散開 => スタック",cn:"分散 => 集合",ko:"산개 => 집합"}),stackThenSpread:e=>m(s(e),{en:"Stack => Spread",de:"Sammeln => Verteilen",fr:"Package => Dispersion",ja:"スタック => 散開",cn:"集合 => 分散",ko:"집합 => 산개"}),knockback:e=>m(s(e),{en:"Knockback",de:"Rückstoß",fr:"Poussée",ja:"ノックバック",cn:"击退",ko:"넉백"}),knockbackOn:(e,a)=>{const t={knockbackOnYou:{en:"Knockback on YOU",de:"Rückstoß auf DIR",fr:"Poussée sur VOUS",ja:"自分にノックバック",cn:"击退点名",ko:"넉백징 대상자"},knockbackOnTarget:{en:"Knockback on ${player}",de:"Rückstoß auf ${player}",fr:"Poussée sur ${player}",ja:"${player}にノックバック",cn:"击退点名${player}",ko:'"${player}" 넉백징'}},r=c(i(e),(e,a,t)=>{if(d(a)===e.me)return t.knockbackOnYou()},i(a),(e,a,t)=>{const r=d(a);if(r!==e.me)return t.knockbackOnTarget({player:e.ShortName(r)})});return(e,a,n)=>(n.responseOutputStrings=t,r)},lookTowards:e=>m(i(e),{en:"Look Towards Boss",de:"Anschauen Boss",fr:"Regardez le boss",ja:"見る",cn:"背对",ko:"쳐다보기"}),lookAway:e=>m(i(e),{en:"Look Away",de:"Wegschauen",fr:"Regardez ailleurs",ja:"見ない",cn:"背对",ko:"뒤돌기"}),lookAwayFromTarget:e=>(a,t,r)=>(r.responseOutputStrings={lookAwayFrom:{en:"Look Away from ${name}",de:"Schau weg von ${name}",fr:"Ne regardez pas ${name}",ja:"${name}を見ない",cn:"背对${name}",ko:"${name}에게서 뒤돌기"}},{[s(e)]:(e,a,t)=>{const r=d(a);if(r===e.me)return;const n=p(a.targetId)?e.ShortName(r):r;return t.lookAwayFrom({name:n})}}),lookAwayFromSource:e=>(a,t,r)=>(r.responseOutputStrings={lookAwayFrom:{en:"Look Away from ${name}",de:"Schau weg von ${name}",fr:"Ne regardez pas ${name}",ja:"${name}を見ない",cn:"背对${name}",ko:"${name}에게서 뒤돌기"}},{[s(e)]:(e,a,t)=>{const r=u(a);if(r===e.me)return;const n=p(a.sourceId)?e.ShortName(r):r;return t.lookAwayFrom({name:n})}}),getBehind:e=>m(s(e),{en:"Get Behind",de:"Hinter ihn",fr:"Passez derrière",ja:"背面へ",cn:"去背后",ko:"보스 뒤로"}),goFrontOrSides:e=>m(s(e),{en:"Go Front / Sides",de:"Gehe nach Vorne/ zu den Seiten",fr:"Allez Devant / Côtés",ja:"前／横へ",cn:"去前侧方",ko:"보스 후방 피하기"}),getUnder:e=>m(i(e),{en:"Get Under",de:"Unter ihn",fr:"En dessous",ja:"ボスと貼り付く",cn:"去脚下",ko:"보스 아래로"}),getIn:e=>m(s(e),{en:"In",de:"Rein",fr:"Intérieur",ja:"中へ",cn:"靠近",ko:"안으로"}),getOut:e=>m(s(e),{en:"Out",de:"Raus",ja:"外へ",fr:"Exterieur",cn:"远离",ko:"밖으로"}),outOfMelee:e=>m(i(e),{en:"Out of melee",de:"Raus aus Nahkampf",fr:"Hors de la mêlée",ja:"近接最大レンジ",cn:"近战最远距离回避",ko:"근접범위 밖으로"}),getInThenOut:e=>m(i(e),{en:"In, then out",de:"Rein, dann raus",fr:"Intérieur, puis extérieur",ja:"中 => 外",cn:"先靠近，再远离",ko:"안으로 => 밖으로"}),getOutThenIn:e=>m(i(e),{en:"Out, then in",de:"Raus, dann rein",fr:"Extérieur, puis intérieur",ja:"外 => 中",cn:"先远离，再靠近",ko:"밖으로 => 안으로"}),getBackThenFront:e=>m(i(e),{en:"Back Then Front",de:"Nach Hinten, danach nach Vorne",fr:"Derrière puis devant",ja:"後ろ => 前",cn:"后 => 前",ko:"뒤로 => 앞으로"}),getFrontThenBack:e=>m(i(e),{en:"Front Then Back",de:"Nach Vorne, danach nach Hinten",fr:"Devant puis derrière",ja:"前 => 後ろ",cn:"前 => 后",ko:"앞으로 => 뒤로"}),goMiddle:e=>m(s(e),{en:"go into middle",fr:"Allez au milieu",de:"in die Mitte gehen",ja:"中へ",cn:"去中间",ko:"중앙으로"}),goRight:e=>m(s(e),{en:"Right",de:"Rechts",fr:"Droite ",ja:"右へ",cn:"右",ko:"오른쪽"}),goLeft:e=>m(s(e),{en:"Left",de:"Links",fr:"Gauche",ja:"左へ",cn:"左",ko:"왼쪽"}),goWest:e=>m(s(e),{en:"<= Get Left/West",de:"<= Nach Links/Westen",fr:"<= Allez à Gauche/Ouest",ja:"<= 左/西へ",cn:"<= 去左/西边",ko:"<= 왼쪽으로"}),goEast:e=>m(s(e),{en:"Get Right/East =>",de:"Nach Rechts/Osten =>",fr:"Allez à Droite/Est =>",ja:"右/東へ =>",cn:"去右/东边 =>",ko:"오른쪽으로 =>"}),goFrontBack:e=>m(s(e),{en:"Go Front/Back",de:"Geh nach Vorne/Hinten",fr:"Allez Devant/Derrière",ja:"縦へ",cn:"去前后",ko:"앞/뒤로"}),goSides:e=>m(s(e),{en:"Sides",de:"Seiten",fr:"Côtés",ja:"横へ",ko:"양옆으로",cn:"去侧面"}),killAdds:e=>m(i(e),{en:"Kill adds",de:"Adds besiegen",fr:"Tuez les adds",ja:"雑魚を処理",ko:"쫄 잡기",cn:"击杀小怪"}),killExtraAdd:e=>m(i(e),{en:"Kill Extra Add",de:"Add besiegen",ja:"雑魚を倒す",fr:"Tuez l'add",cn:"击杀小怪",ko:"쫄 잡기"}),awayFromFront:e=>m(s(e),{en:"Away From Front",de:"Weg von Vorne",fr:"Éloignez-vous du devant",ja:"前方から離れ",cn:"远离正面",ko:"보스 전방 피하기"}),sleep:e=>(a,t,r)=>(r.responseOutputStrings={sleep:{en:"Sleep ${name}",de:"Schlaf auf ${name}",fr:"Sommeil sur ${name}",ja:"${name} にスリプル",cn:"催眠 ${name}",ko:"${name} 슬리플"}},{[s(e)]:(e,a,t)=>{const r=u(a);return t.sleep({name:r})}}),stun:e=>(a,t,r)=>(r.responseOutputStrings={stun:{en:"Stun ${name}",de:"Betäubung auf ${name}",fr:"Étourdissement sur ${name}",ja:"${name} にスタン",cn:"眩晕 ${name}",ko:"${name}기절"}},{[s(e)]:(e,a,t)=>{const r=u(a);return t.stun({name:r})}}),interrupt:e=>(a,t,r)=>(r.responseOutputStrings={interrupt:{en:"interrupt ${name}",de:"unterbreche ${name}",fr:"Interrompez ${name}",ja:"${name} に沈黙",cn:"打断${name}",ko:"${name}기술 시전 끊기"}},{[s(e)]:(e,a,t)=>{const r=u(a);return t.interrupt({name:r})}}),preyOn:(e,a)=>{const t={preyOnYou:{en:"Prey on YOU",de:"Marker auf DIR",fr:"Marquage sur VOUS",ja:"自分に捕食",cn:"掠食点名",ko:"홍옥징 대상자"},preyOnTarget:{en:"Prey on ${player}",de:"Marker auf ${player}",fr:"Marquage sur ${player}",ja:"${player}に捕食",cn:"掠食点名${player}",ko:'"${player}" 홍옥징'}},r=c(s(e),(e,a,t)=>{const r=d(a);if(e.me===r)return t.preyOnYou()},i(a),(e,a,t)=>{const r=d(a);if(r!==e.me)return t.preyOnTarget({player:e.ShortName(r)})});return(e,a,n)=>(n.responseOutputStrings=t,r)},awayFrom:e=>(a,t,r)=>(r.responseOutputStrings={awayFromGroup:{en:"Away from Group",de:"Weg von der Gruppe",fr:"Éloignez-vous du groupe",ja:"外へ",cn:"远离人群",ko:"다른 사람들이랑 떨어지기"},awayFromTarget:{en:"Away from ${player}",de:"Weg von ${player}",fr:"Éloignez-vous de ${player}",ja:"${player}から離れ",cn:"远离${player}",ko:'"${player}"에서 멀어지기'}},{[s(e)]:(e,a,t)=>{const r=d(a);return e.me===r?t.awayFromGroup():t.awayFromTarget({player:e.ShortName(r)})}}),meteorOnYou:e=>m(l(e),{en:"Meteor on YOU",de:"Meteor auf DIR",fr:"Météore sur VOUS",ja:"自分にメテオ",cn:"陨石点名",ko:"나에게 메테오징"}),stopMoving:e=>m(l(e),{en:"Stop Moving!",de:"Bewegung stoppen!",fr:"Ne bougez pas !",ja:"移動禁止！",cn:"停止移动！",ko:"이동 멈추기!"}),stopEverything:e=>m(l(e),{en:"Stop Everything!",de:"Stoppe Alles!",fr:"Arrêtez TOUT !",ja:"行動禁止！",cn:"停止行动！",ko:"행동 멈추기!"}),moveAway:e=>m(i(e),{en:"Move!",de:"Bewegen!",fr:"Bougez !",ja:"避けて！",cn:"快躲开！",ko:"이동하기!"}),moveAround:e=>m(i(e),{en:"Move!",de:"Bewegen!",fr:"Bougez !",ja:"動く！",cn:"快动！",ko:"움직이기!"}),breakChains:e=>m(i(e),{en:"Break chains",de:"Kette zerbrechen",fr:"Cassez les chaines",ja:"線を切る",cn:"切断连线",ko:"선 끊기"}),moveChainsTogether:e=>m(i(e),{en:"Move chains together",de:"Ketten zusammen bewegen",fr:"Bougez les chaines ensemble",ja:"線同士一緒に移動",cn:"连线一起移动",ko:"선 붙어서 같이 움직이기"}),earthshaker:e=>(a,t,r)=>(r.responseOutputStrings={earthshaker:{en:"Earth Shaker on YOU",de:"Erdstoß auf DIR",fr:"Marque de terre sur VOUS",ja:"自分にアースシェイカー",cn:"大地摇动点名",ko:"어스징 대상자"}},{[s(e)]:(e,a,t)=>{if(d(a)===e.me)return t.earthshaker()}}),wakeUp:e=>m(l(e),{en:"WAKE UP",de:"AUFWACHEN",fr:"RÉVEILLES-TOI",ja:"目を覚めて！",cn:"醒醒！动一动！！",ko:"강제 퇴장 7분 전"})}},2:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));class r{static targetIsYou(){return(e,a)=>e.me===a.target}static targetIsNotYou(){return(e,a)=>e.me!==a.target}static caresAboutAOE(){return e=>"tank"===e.role||"healer"===e.role||e.CanAddle()||"BLU"===e.job}static caresAboutMagical(){return e=>"tank"===e.role||"healer"===e.role||e.CanAddle()||"BLU"===e.job}static caresAboutPhysical(){return e=>"tank"===e.role||"healer"===e.role||e.CanFeint()||"BLU"===e.job}}},29:function(e,a,t){"use strict";t.r(a);t(5);var r=t(7),n=t(4),o=t(6),i=t(3);const s={Language:"en"},l=[{id:"test",zoneId:i.a.MiddleLaNoscea,startRegex:/:You bow courteously to the striking dummy/,countdownStarts:!0,preventAutoStart:!0},{id:"o1s",zoneId:i.a.DeltascapeV10Savage},{id:"o2s",zoneId:i.a.DeltascapeV20Savage},{id:"o3s",zoneId:i.a.DeltascapeV30Savage},{id:"o4s-exdeath",zoneId:i.a.DeltascapeV40Savage,startRegex:/:Exdeath uses Dualcast/,preventAutoStart:!0},{id:"o4s-neo",zoneId:i.a.DeltascapeV40Savage,startRegex:/:Neo Exdeath uses Almagest/,preventAutoStart:!0},{id:"Unending Coil",zoneId:i.a.TheUnendingCoilOfBahamutUltimate},{id:"Shinryu Ex",zoneId:i.a.TheMinstrelsBalladShinryusDomain},{id:"o5s",zoneId:i.a.SigmascapeV10Savage},{id:"o6s",zoneId:i.a.SigmascapeV20Savage},{id:"o7s",zoneId:i.a.SigmascapeV30Savage},{id:"o8s-kefka",zoneId:i.a.SigmascapeV40Savage,startRegex:/ 15:........:Kefka:28C2:/,preventAutoStart:!0},{id:"o8s-god kefka",zoneId:i.a.SigmascapeV40Savage,startRegex:/ 15:........:Kefka:28EC:/,preventAutoStart:!0},{id:"Byakko Ex",zoneId:i.a.TheJadeStoaExtreme},{id:"Tsukuyomi Ex",zoneId:i.a.TheMinstrelsBalladTsukuyomisPain},{id:"UwU",zoneId:i.a.TheWeaponsRefrainUltimate},{id:"Suzaku Ex",zoneId:i.a.HellsKierExtreme},{id:"Seiryu Ex",zoneId:i.a.TheWreathOfSnakesExtreme},{id:"o9s",zoneId:i.a.AlphascapeV10Savage},{id:"o10s",zoneId:i.a.AlphascapeV20Savage},{id:"o11s",zoneId:i.a.AlphascapeV30Savage},{id:"o12s-door",zoneId:i.a.AlphascapeV40Savage,startRegex:/:Omega-M:337D:/,preventAutoStart:!0},{id:"o12s-final",zoneId:i.a.AlphascapeV40Savage,startRegex:/:Omega:336C:/,preventAutoStart:!0},{zoneId:i.a.TheBozjanSouthernFront,countdownStarts:!1,preventAutoStart:!0}];let d;class u{constructor(e){this.element=e,this.zoneName=null,this.bossStarted=!1,this.party=[],this.bosses=[],this.resetRegex=n.a.echo({line:".*pullcounter reset.*?"}),this.countdownEngageRegex=r.b.countdownEngage[s.ParserLanguage]||r.b.countdownEngage.en,callOverlayHandler({call:"cactbotLoadData",overlay:"pullcounter"}).then(e=>d.SetSaveData(e)),this.ReloadTriggers()}OnFightStart(e){this.pullCounts[e.id]=(this.pullCounts[e.id]||0)+1,this.bossStarted=!0,this.ShowElementFor(e.id),this.SaveData()}ShowElementFor(e){this.element.innerText=this.pullCounts[e],this.element.classList.remove("wipe")}SaveData(){callOverlayHandler({call:"cactbotSaveData",overlay:"pullcounter",data:JSON.stringify(this.pullCounts)})}OnLogEvent(e){if(!this.bossStarted)for(const a of e.detail.logs){if(this.resetRegex.test(a)&&this.ResetPullCounter(),this.countdownEngageRegex.test(a))return void(this.countdownBoss?this.OnFightStart(this.countdownBoss):this.AutoStartBossIfNeeded());for(const e of this.bosses)if(e.startRegex&&e.startRegex.test(a))return void this.OnFightStart(e)}}OnChangeZone(e){this.element.innerText="",this.zoneName=e.zoneName,this.zoneId=e.zoneID,this.zoneName=this.zoneName.split(" ").map(e=>e&&0!==e.length?e[0].toUpperCase()+e.substr(1):"").join(" "),this.ReloadTriggers()}ResetPullCounter(){if(this.bosses.length>0)for(const e of this.bosses){const a=e.id;this.pullCounts[a]=0,console.log("resetting pull count of: "+a),this.ShowElementFor(a)}else{const e=this.zoneName;console.log("resetting pull count of: "+e),this.ShowElementFor(e)}this.SaveData()}ReloadTriggers(){if(this.bosses=[],this.countdownBoss=null,this.zoneName&&this.pullCounts)for(const e of l)this.zoneId===e.zoneId&&(this.bosses.push(e),e.countdownStarts&&(this.countdownBoss&&console.error("Countdown boss conflict: "+e.id+", "+this.countdownBoss.id),this.countdownBoss=e))}OnInCombatChange(e){e.detail.inGameCombat?this.AutoStartBossIfNeeded():this.bossStarted=!1}AutoStartBossIfNeeded(){if(!(this.bosses.length>1||this.bossStarted||8!==this.party.length))if(1!==this.bosses.length)this.OnFightStart({id:this.zoneName,countdownStarts:!0});else{const e=this.bosses[0];if(e.preventAutoStart)return;this.OnFightStart(e)}}OnPartyWipe(){this.element.classList.add("wipe")}OnPartyChange(e){this.party=e.party}SetSaveData(e){try{e&&e.data?this.pullCounts=JSON.parse(e.data):this.pullCounts={}}catch(e){console.error("onSendSaveData parse error: "+e.message)}this.ReloadTriggers()}}o.a.getUserConfigLocation("pullcounter",s,()=>{d=new u(document.getElementById("pullcounttext")),addOverlayListener("onLogEvent",e=>d.OnLogEvent(e)),addOverlayListener("ChangeZone",e=>d.OnChangeZone(e)),addOverlayListener("onInCombatChangedEvent",e=>d.OnInCombatChange(e)),addOverlayListener("onPartyWipe",()=>d.OnPartyWipe()),addOverlayListener("PartyChanged",e=>d.OnPartyChange(e))})},3:function(e,a,t){"use strict";a.a={ABloodyReunion:560,ARelicRebornTheChimera:368,ARelicRebornTheHydra:369,ARequiemForHeroes:830,ASleepDisturbed:914,ASpectacleForTheAges:533,AccrueEnmityFromMultipleTargets:540,AirForceOne:832,AkadaemiaAnyder:841,AlaMhigo:689,AlexanderTheArmOfTheFather:444,AlexanderTheArmOfTheFatherSavage:451,AlexanderTheArmOfTheSon:522,AlexanderTheArmOfTheSonSavage:531,AlexanderTheBreathOfTheCreator:581,AlexanderTheBreathOfTheCreatorSavage:585,AlexanderTheBurdenOfTheFather:445,AlexanderTheBurdenOfTheFatherSavage:452,AlexanderTheBurdenOfTheSon:523,AlexanderTheBurdenOfTheSonSavage:532,AlexanderTheCuffOfTheFather:443,AlexanderTheCuffOfTheFatherSavage:450,AlexanderTheCuffOfTheSon:521,AlexanderTheCuffOfTheSonSavage:530,AlexanderTheEyesOfTheCreator:580,AlexanderTheEyesOfTheCreatorSavage:584,AlexanderTheFistOfTheFather:442,AlexanderTheFistOfTheFatherSavage:449,AlexanderTheFistOfTheSon:520,AlexanderTheFistOfTheSonSavage:529,AlexanderTheHeartOfTheCreator:582,AlexanderTheHeartOfTheCreatorSavage:586,AlexanderTheSoulOfTheCreator:583,AlexanderTheSoulOfTheCreatorSavage:587,AllsWellThatEndsInTheWell:220,AllsWellThatStartsWell:796,AlphascapeV10:798,AlphascapeV10Savage:802,AlphascapeV20:799,AlphascapeV20Savage:803,AlphascapeV30:800,AlphascapeV30Savage:804,AlphascapeV40:801,AlphascapeV40Savage:805,Amaurot:838,AmdaporKeep:167,AmdaporKeepHard:189,AmhAraeng:815,AnamnesisAnyder:898,AnnoyTheVoid:222,AsTheHeartBids:894,AssistAlliesInDefeatingATarget:544,Astragalos:729,AvoidAreaOfEffectAttacks:537,AzysLla:402,BaelsarsWall:615,BardamsMettle:623,BasicTrainingEnemyParties:214,BasicTrainingEnemyStrongholds:215,BattleInTheBigKeep:396,BattleOnTheBigBridge:366,BloodOnTheDeck:708,BrayfloxsLongstop:158,BrayfloxsLongstopHard:362,CapeWestwind:332,CastrumAbania:661,CastrumFluminis:778,CastrumMarinum:934,CastrumMarinumDrydocks:967,CastrumMarinumExtreme:935,CastrumMeridianum:217,CentralShroud:148,CentralThanalan:141,ChocoboRaceCostaDelSol:389,ChocoboRaceSagoliiRoad:390,ChocoboRaceTranquilPaths:391,ChocoboRaceTutorial:417,CinderDrift:897,CinderDriftExtreme:912,CoerthasCentralHighlands:155,CoerthasWesternHighlands:397,ComingClean:860,ContainmentBayP1T6:576,ContainmentBayP1T6Extreme:577,ContainmentBayS1T7:517,ContainmentBayS1T7Extreme:524,ContainmentBayZ1T9:637,ContainmentBayZ1T9Extreme:638,CopperbellMines:161,CopperbellMinesHard:349,CuriousGorgeMeetsHisMatch:717,CuttersCry:170,DarkAsTheNightSky:713,DefeatAnOccupiedTarget:545,DeltascapeV10:691,DeltascapeV10Savage:695,DeltascapeV20:692,DeltascapeV20Savage:696,DeltascapeV30:693,DeltascapeV30Savage:697,DeltascapeV40:694,DeltascapeV40Savage:698,DohnMheg:821,DomaCastle:660,DragonSound:714,DunScaith:627,DzemaelDarkhold:171,EastShroud:152,EasternLaNoscea:137,EasternThanalan:145,EdensGateDescent:850,EdensGateDescentSavage:854,EdensGateInundation:851,EdensGateInundationSavage:855,EdensGateResurrection:849,EdensGateResurrectionSavage:853,EdensGateSepulture:852,EdensGateSepultureSavage:856,EdensPromiseAnamorphosis:944,EdensPromiseAnamorphosisSavage:948,EdensPromiseEternity:945,EdensPromiseEternitySavage:949,EdensPromiseLitany:943,EdensPromiseLitanySavage:947,EdensPromiseUmbra:942,EdensPromiseUmbraSavage:946,EdensVerseFulmination:902,EdensVerseFulminationSavage:906,EdensVerseFuror:903,EdensVerseFurorSavage:907,EdensVerseIconoclasm:904,EdensVerseIconoclasmSavage:908,EdensVerseRefulgence:905,EdensVerseRefulgenceSavage:909,Emanation:719,EmanationExtreme:720,EmissaryOfTheDawn:769,EngageMultipleTargets:541,Eulmore:820,ExecuteAComboInBattle:539,ExecuteAComboToIncreaseEnmity:538,ExecuteARangedAttackToIncreaseEnmity:542,FadedMemories:932,FinalExercise:552,FlickingSticksAndTakingNames:219,Foundation:418,FourPlayerMahjongQuickMatchKuitanDisabled:831,Halatali:162,HalataliHard:360,HaukkeManor:166,HaukkeManorHard:350,HealAnAlly:549,HealMultipleAllies:550,HeavenOnHighFloors11_20:771,HeavenOnHighFloors1_10:770,HeavenOnHighFloors21_30:772,HeavenOnHighFloors31_40:782,HeavenOnHighFloors41_50:773,HeavenOnHighFloors51_60:783,HeavenOnHighFloors61_70:774,HeavenOnHighFloors71_80:784,HeavenOnHighFloors81_90:775,HeavenOnHighFloors91_100:785,HellsKier:810,HellsKierExtreme:811,HellsLid:742,HeroOnTheHalfShell:216,HiddenGorge:791,HolminsterSwitch:837,HullbreakerIsle:361,HullbreakerIsleHard:557,Idyllshire:478,IlMheg:816,InThalsName:705,InteractWithTheBattlefield:548,InterdimensionalRift:690,ItsProbablyATrap:665,Kholusia:814,Kugane:628,KuganeCastle:662,KuganeOhashi:806,Lakeland:813,LegendOfTheNotSoHiddenTemple:859,LimsaLominsaLowerDecks:129,LimsaLominsaUpperDecks:128,LongLiveTheQueen:298,LovmMasterTournament:506,LovmPlayerBattleNonRp:591,LovmPlayerBattleRp:589,LovmTournament:590,LowerLaNoscea:135,MalikahsWell:836,MatchAll:null,MatoyasRelict:933,MatsubaMayhem:710,MemoriaMiseraExtreme:913,MessengerOfTheWinds:834,MiddleLaNoscea:134,Mist:136,MorDhona:156,MoreThanAFeeler:221,MtGulg:822,Naadam:688,Neverreap:420,NewGridania:132,NorthShroud:154,NorthernThanalan:147,NyelbertsLament:876,OceanFishing:900,OldGridania:133,OneLifeForOneWorld:592,OnsalHakairDanshigNaadam:888,OurCompromise:716,OurUnsungHeroes:722,OuterLaNoscea:180,PharosSirius:160,PharosSiriusHard:510,PullingPoisonPosies:191,RaisingTheSword:706,ReturnOfTheBull:403,RhalgrsReach:635,SaintMociannesArboretum:511,SaintMociannesArboretumHard:788,Sastasha:157,SastashaHard:387,SealRockSeize:431,ShadowAndClaw:223,ShisuiOfTheVioletTides:616,SigmascapeV10:748,SigmascapeV10Savage:752,SigmascapeV20:749,SigmascapeV20Savage:753,SigmascapeV30:750,SigmascapeV30Savage:754,SigmascapeV40:751,SigmascapeV40Savage:755,Snowcloak:371,SohmAl:441,SohmAlHard:617,SohrKhai:555,SolemnTrinity:300,SouthShroud:153,SouthernThanalan:146,SpecialEventI:353,SpecialEventIi:354,SpecialEventIii:509,StingingBack:192,SyrcusTower:372,TheAery:435,TheAetherochemicalResearchFacility:438,TheAkhAfahAmphitheatreExtreme:378,TheAkhAfahAmphitheatreHard:377,TheAkhAfahAmphitheatreUnreal:930,TheAntitower:516,TheAquapolis:558,TheAurumVale:172,TheAzimSteppe:622,TheBattleOnBekko:711,TheBindingCoilOfBahamutTurn1:241,TheBindingCoilOfBahamutTurn2:242,TheBindingCoilOfBahamutTurn3:243,TheBindingCoilOfBahamutTurn4:244,TheBindingCoilOfBahamutTurn5:245,TheBorderlandRuinsSecure:376,TheBowlOfEmbers:202,TheBowlOfEmbersExtreme:295,TheBowlOfEmbersHard:292,TheBozjaIncident:911,TheBozjanSouthernFront:920,TheBurn:789,TheCalamityRetold:790,TheCarteneauFlatsHeliodrome:633,TheChrysalis:426,TheChurningMists:400,TheCopiedFactory:882,TheCrownOfTheImmaculate:846,TheCrownOfTheImmaculateExtreme:848,TheCrystarium:819,TheDancingPlague:845,TheDancingPlagueExtreme:858,TheDiadem:929,TheDiadem521:901,TheDiademEasy:512,TheDiademHard:515,TheDiademHuntingGrounds:625,TheDiademHuntingGroundsEasy:624,TheDiademTrialsOfTheFury:630,TheDiademTrialsOfTheMatron:656,TheDomanEnclave:759,TheDragonsNeck:142,TheDravanianForelands:398,TheDravanianHinterlands:399,TheDrownedCityOfSkalla:731,TheDungeonsOfLyheGhiah:879,TheDuskVigil:434,TheDyingGasp:847,TheEpicOfAlexanderUltimate:887,TheFaceOfTrueEvil:709,TheFeastCustomMatchCrystalTower:767,TheFeastCustomMatchFeastingGrounds:619,TheFeastCustomMatchLichenweed:646,TheFeastRanked:765,TheFeastTeamRanked:745,TheFeastTraining:766,TheFieldsOfGloryShatter:554,TheFinalCoilOfBahamutTurn1:193,TheFinalCoilOfBahamutTurn2:194,TheFinalCoilOfBahamutTurn3:195,TheFinalCoilOfBahamutTurn4:196,TheFinalStepsOfFaith:559,TheForbiddenLandEurekaAnemos:732,TheForbiddenLandEurekaHydatos:827,TheForbiddenLandEurekaPagos:763,TheForbiddenLandEurekaPyros:795,TheFractalContinuum:430,TheFractalContinuumHard:743,TheFringes:612,TheGhimlytDark:793,TheGrandCosmos:884,TheGreatGubalLibrary:416,TheGreatGubalLibraryHard:578,TheGreatHunt:761,TheGreatHuntExtreme:762,TheGreatShipVylbrand:954,TheHardenedHeart:873,TheHauntedManor:571,TheHeartOfTheProblem:718,TheHeroesGauntlet:916,TheHiddenCanalsOfUznair:725,TheHowlingEye:208,TheHowlingEyeExtreme:297,TheHowlingEyeHard:294,TheHuntersLegacy:875,TheJadeStoa:746,TheJadeStoaExtreme:758,TheKeeperOfTheLake:150,TheLabyrinthOfTheAncients:174,TheLimitlessBlueExtreme:447,TheLimitlessBlueHard:436,TheLochs:621,TheLostAndTheFound:874,TheLostCanalsOfUznair:712,TheLostCityOfAmdapor:363,TheLostCityOfAmdaporHard:519,TheMinstrelsBalladHadessElegy:885,TheMinstrelsBalladNidhoggsRage:566,TheMinstrelsBalladShinryusDomain:730,TheMinstrelsBalladThordansReign:448,TheMinstrelsBalladTsukuyomisPain:779,TheMinstrelsBalladUltimasBane:348,TheNavel:206,TheNavelExtreme:296,TheNavelHard:293,TheNavelUnreal:953,TheOrbonneMonastery:826,TheOrphansAndTheBrokenBlade:715,ThePalaceOfTheDeadFloors101_110:598,ThePalaceOfTheDeadFloors111_120:599,ThePalaceOfTheDeadFloors11_20:562,ThePalaceOfTheDeadFloors121_130:600,ThePalaceOfTheDeadFloors131_140:601,ThePalaceOfTheDeadFloors141_150:602,ThePalaceOfTheDeadFloors151_160:603,ThePalaceOfTheDeadFloors161_170:604,ThePalaceOfTheDeadFloors171_180:605,ThePalaceOfTheDeadFloors181_190:606,ThePalaceOfTheDeadFloors191_200:607,ThePalaceOfTheDeadFloors1_10:561,ThePalaceOfTheDeadFloors21_30:563,ThePalaceOfTheDeadFloors31_40:564,ThePalaceOfTheDeadFloors41_50:565,ThePalaceOfTheDeadFloors51_60:593,ThePalaceOfTheDeadFloors61_70:594,ThePalaceOfTheDeadFloors71_80:595,ThePalaceOfTheDeadFloors81_90:596,ThePalaceOfTheDeadFloors91_100:597,ThePeaks:620,ThePillars:419,ThePoolOfTribute:674,ThePoolOfTributeExtreme:677,ThePraetorium:224,ThePuppetsBunker:917,TheQitanaRavel:823,TheRaktikaGreatwood:817,TheResonant:684,TheRidoranaLighthouse:776,TheRoyalCityOfRabanastre:734,TheRoyalMenagerie:679,TheRubySea:613,TheSeaOfClouds:401,TheSeatOfSacrifice:922,TheSeatOfSacrificeExtreme:923,TheSecondCoilOfBahamutSavageTurn1:380,TheSecondCoilOfBahamutSavageTurn2:381,TheSecondCoilOfBahamutSavageTurn3:382,TheSecondCoilOfBahamutSavageTurn4:383,TheSecondCoilOfBahamutTurn1:355,TheSecondCoilOfBahamutTurn2:356,TheSecondCoilOfBahamutTurn3:357,TheSecondCoilOfBahamutTurn4:358,TheShiftingAltarsOfUznair:794,TheShiftingOubliettesOfLyheGhiah:924,TheSingularityReactor:437,TheSirensongSea:626,TheStepsOfFaith:143,TheStoneVigil:168,TheStoneVigilHard:365,TheStrikingTreeExtreme:375,TheStrikingTreeHard:374,TheSunkenTempleOfQarn:163,TheSunkenTempleOfQarnHard:367,TheSwallowsCompass:768,TheTamTaraDeepcroft:164,TheTamTaraDeepcroftHard:373,TheTempest:818,TheTempleOfTheFist:663,TheThousandMawsOfTotoRak:169,TheTripleTriadBattlehall:579,TheTwinning:840,TheUnendingCoilOfBahamutUltimate:733,TheValentionesCeremony:741,TheVault:421,TheVoidArk:508,TheWanderersPalace:159,TheWanderersPalaceHard:188,TheWeaponsRefrainUltimate:777,TheWeepingCityOfMhach:556,TheWhorleaterExtreme:359,TheWhorleaterHard:281,TheWillOfTheMoon:797,TheWorldOfDarkness:151,TheWreathOfSnakes:824,TheWreathOfSnakesExtreme:825,ThokAstThokExtreme:446,ThokAstThokHard:432,ThornmarchExtreme:364,ThornmarchHard:207,TripleTriadInvitationalParlor:941,TripleTriadOpenTournament:940,UldahStepsOfNald:130,UldahStepsOfThal:131,UnderTheArmor:190,UpperLaNoscea:139,UrthsFount:394,VowsOfVirtueDeedsOfCruelty:893,WardUp:299,WesternLaNoscea:138,WesternThanalan:140,WhenClansCollide:723,WithHeartAndSteel:707,WolvesDenPier:250,Xelphatol:572,Yanxia:614}},4:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));class r{static startsUsing(e){void 0===e&&(e={}),r.validateParams(e,"startsUsing",["timestamp","source","id","ability","target","capture"]);const a=r.trueIfUndefined(e.capture);let t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 14:"+r.maybeCapture(a,"id",e.id,"\\y{AbilityCode}")+":";return(e.source||e.id||e.target||a)&&(t+=r.maybeCapture(a,"source",e.source,".*?")+" starts using "),(e.ability||e.target||a)&&(t+=r.maybeCapture(a,"ability",e.ability,".*?")+" on "),(e.target||a)&&(t+=r.maybeCapture(a,"target",e.target,".*?")+"\\."),r.parse(t)}static ability(e){void 0===e&&(e={}),r.validateParams(e,"ability",["timestamp","source","sourceId","id","ability","targetId","target","capture"]);const a=r.trueIfUndefined(e.capture);let t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 1[56]:"+r.maybeCapture(a,"sourceId","\\y{ObjectId}")+":"+r.maybeCapture(a,"source",e.source,"[^:]*?")+":";return(e.id||e.ability||e.target||e.targetId||a)&&(t+=r.maybeCapture(a,"id",e.id,"\\y{AbilityCode}")+":"),(e.ability||e.target||e.targetId||a)&&(t+=r.maybeCapture(a,"ability",e.ability,"[^:]*?")+":"),(e.target||e.targetId||a)&&(t+=r.maybeCapture(a,"targetId","\\y{ObjectId}")+":"),(e.target||a)&&(t+=r.maybeCapture(a,"target",e.target,"[^:]*?")+":"),r.parse(t)}static abilityFull(e){void 0===e&&(e={}),r.validateParams(e,"abilityFull",["timestamp","sourceId","source","id","ability","targetId","target","flags","flag0","flag1","flag2","flag3","flag4","flag5","flag6","flag7","flag8","flag9","flag10","flag11","flag12","flag13","flag14","targetHp","targetMaxHp","targetMp","targetMaxMp","targetX","targetY","targetZ","targetHeading","hp","maxHp","mp","maxMp","x","y","z","heading","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 1[56]:"+r.maybeCapture(a,"sourceId",e.sourceId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"source",e.source,"[^:]*?")+":"+r.maybeCapture(a,"id",e.id,"\\y{AbilityCode}")+":"+r.maybeCapture(a,"ability",e.ability,"[^:]*?")+":"+r.maybeCapture(a,"targetId",e.targetId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"target",e.target,"[^:]*?")+":"+r.maybeCapture(a,"flags",e.flags,"[^:]*?")+":"+r.maybeCapture(a,"flag0",e.flag0,"[^:]*?")+":"+r.maybeCapture(a,"flag1",e.flag1,"[^:]*?")+":"+r.maybeCapture(a,"flag2",e.flag2,"[^:]*?")+":"+r.maybeCapture(a,"flag3",e.flag3,"[^:]*?")+":"+r.maybeCapture(a,"flag4",e.flag4,"[^:]*?")+":"+r.maybeCapture(a,"flag5",e.flag5,"[^:]*?")+":"+r.maybeCapture(a,"flag6",e.flag6,"[^:]*?")+":"+r.maybeCapture(a,"flag7",e.flag7,"[^:]*?")+":"+r.maybeCapture(a,"flag8",e.flag8,"[^:]*?")+":"+r.maybeCapture(a,"flag9",e.flag9,"[^:]*?")+":"+r.maybeCapture(a,"flag10",e.flag10,"[^:]*?")+":"+r.maybeCapture(a,"flag11",e.flag11,"[^:]*?")+":"+r.maybeCapture(a,"flag12",e.flag12,"[^:]*?")+":"+r.maybeCapture(a,"flag13",e.flag13,"[^:]*?")+":"+r.maybeCapture(a,"flag14",e.flag13,"[^:]*?")+":"+r.optional(r.maybeCapture(a,"targetHp",e.targetHp,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"targetMaxHp",e.targetMaxHp,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"targetMp",e.targetMp,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"targetMaxMp",e.targetMaxMp,"\\y{Float}"))+":"+r.optional("\\y{Float}")+":"+r.optional("\\y{Float}")+":"+r.optional(r.maybeCapture(a,"targetX",e.targetX,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"targetY",e.targetY,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"targetZ",e.targetZ,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"targetHeading",e.targetHeading,"\\y{Float}"))+":"+r.maybeCapture(a,"hp",e.hp,"\\y{Float}")+":"+r.maybeCapture(a,"maxHp",e.maxHp,"\\y{Float}")+":"+r.maybeCapture(a,"mp",e.mp,"\\y{Float}")+":"+r.maybeCapture(a,"maxMp",e.maxMp,"\\y{Float}")+":\\y{Float}:\\y{Float}:"+r.maybeCapture(a,"x",e.x,"\\y{Float}")+":"+r.maybeCapture(a,"y",e.y,"\\y{Float}")+":"+r.maybeCapture(a,"z",e.z,"\\y{Float}")+":"+r.maybeCapture(a,"heading",e.heading,"\\y{Float}")+":.*?$";return r.parse(t)}static headMarker(e){void 0===e&&(e={}),r.validateParams(e,"headMarker",["timestamp","targetId","target","id","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 1B:"+r.maybeCapture(a,"targetId",e.targetId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"target",e.target,"[^:]*?")+":....:....:"+r.maybeCapture(a,"id",e.id,"....")+":";return r.parse(t)}static addedCombatant(e){void 0===e&&(e={}),r.validateParams(e,"addedCombatant",["timestamp","name","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 03:\\y{ObjectId}:Added new combatant "+r.maybeCapture(a,"name",e.name,".*?")+"\\.";return r.parse(t)}static addedCombatantFull(e){void 0===e&&(e={}),r.validateParams(e,"addedCombatantFull",["timestamp","id","name","job","level","hp","x","y","z","npcId","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 03:"+r.maybeCapture(a,"id",e.id,"\\y{ObjectId}")+":Added new combatant "+r.maybeCapture(a,"name",e.name,"[^:]*?")+"\\. {2}Job: "+r.maybeCapture(a,"job",e.job,"[^:]*?")+" Level: "+r.maybeCapture(a,"level",e.level,"[^:]*?")+" Max HP: "+r.maybeCapture(a,"hp",e.hp,"[0-9]+")+"..*?Pos: \\("+r.maybeCapture(a,"x",e.x,"\\y{Float}")+","+r.maybeCapture(a,"y",e.y,"\\y{Float}")+","+r.maybeCapture(a,"z",e.z,"\\y{Float}")+"\\)(?: \\("+r.maybeCapture(a,"npcId",e.npcId,".*?")+"\\))?\\.";return r.parse(t)}static removingCombatant(e){void 0===e&&(e={}),r.validateParams(e,"removingCombatant",["timestamp","id","name","hp","capture","x","y","z"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 04:"+r.maybeCapture(a,"id","\\y{ObjectId}")+":Removing combatant "+r.maybeCapture(a,"name",e.name,".*?")+"\\..*?Max HP: "+r.maybeCapture(a,"hp",e.hp,"[0-9]+")+"."+r.optional(".*?Pos: \\("+r.maybeCapture(a,"x",e.x,"\\y{Float}")+","+r.maybeCapture(a,"y",e.y,"\\y{Float}")+","+r.maybeCapture(a,"z",e.z,"\\y{Float}")+"\\)");return r.parse(t)}static gainsEffect(e){void 0===e&&(e={}),r.validateParams(e,"gainsEffect",["timestamp","targetId","target","effect","source","duration","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 1A:"+r.maybeCapture(a,"targetId",e.targetId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"target",e.target,".*?")+" gains the effect of "+r.maybeCapture(a,"effect",e.effect,".*?")+" from "+r.maybeCapture(a,"source",e.source,".*?")+" for "+r.maybeCapture(a,"duration",e.duration,"\\y{Float}")+" Seconds\\.";return r.parse(t)}static statusEffectExplicit(e){void 0===e&&(e={}),r.validateParams(e,"statusEffectExplicit",["timestamp","targetId","target","job","hp","maxHp","mp","maxMp","x","y","z","heading","data0","data1","data2","data3","data4","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 26:"+r.maybeCapture(a,"targetId",e.targetId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"target",e.target,"[^:]*?")+":[0-9A-F]{0,6}"+r.maybeCapture(a,"job",e.job,"[0-9A-F]{0,2}")+":"+r.maybeCapture(a,"hp",e.hp,"\\y{Float}")+":"+r.maybeCapture(a,"maxHp",e.maxHp,"\\y{Float}")+":"+r.maybeCapture(a,"mp",e.mp,"\\y{Float}")+":"+r.maybeCapture(a,"maxMp",e.maxMp,"\\y{Float}")+":.*?:.*?:"+r.optional(r.maybeCapture(a,"x",e.x,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"y",e.y,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"z",e.z,"\\y{Float}"))+":"+r.optional(r.maybeCapture(a,"heading",e.heading,"\\y{Float}"))+":"+r.maybeCapture(a,"data0",e.data0,"[^:]*?")+":"+r.maybeCapture(a,"data1",e.data1,"[^:]*?")+":"+r.optional(r.maybeCapture(a,"data2",e.data2,"[^:]*?")+":")+r.optional(r.maybeCapture(a,"data3",e.data3,"[^:]*?")+":")+r.optional(r.maybeCapture(a,"data4",e.data4,"[^:]*?")+":");return r.parse(t)}static losesEffect(e){void 0===e&&(e={}),r.validateParams(e,"losesEffect",["timestamp","targetId","target","effect","source","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 1E:"+r.maybeCapture(a,"targetId",e.targetId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"target",e.target,".*?")+" loses the effect of "+r.maybeCapture(a,"effect",e.effect,".*?")+" from "+r.maybeCapture(a,"source",e.source,".*?")+"\\.";return r.parse(t)}static tether(e){void 0===e&&(e={}),r.validateParams(e,"tether",["timestamp","source","sourceId","target","targetId","id","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 23:"+r.maybeCapture(a,"sourceId",e.sourceId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"source",e.source,"[^:]*?")+":"+r.maybeCapture(a,"targetId",e.targetId,"\\y{ObjectId}")+":"+r.maybeCapture(a,"target",e.target,"[^:]*?")+":....:....:"+r.maybeCapture(a,"id",e.id,"....")+":";return r.parse(t)}static wasDefeated(e){void 0===e&&(e={}),r.validateParams(e,"wasDefeated",["timestamp","target","source","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 19:"+r.maybeCapture(a,"target",e.target,".*?")+" was defeated by "+r.maybeCapture(a,"source",e.source,".*?")+"\\.";return r.parse(t)}static hasHP(e){void 0===e&&(e={}),r.validateParams(e,"hasHP",["timestamp","name","hp","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 0D:"+r.maybeCapture(a,"name",e.name,".*?")+" HP at "+r.maybeCapture(a,"hp",e.hp,"\\d+")+"%";return r.parse(t)}static echo(e){return void 0===e&&(e={}),r.validateParams(e,"echo",["timestamp","code","line","capture"]),r.gameLog({line:e.line,capture:e.capture,code:"0038"})}static dialog(e){void 0===e&&(e={}),r.validateParams(e,"dialog",["timestamp","code","line","name","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 00:"+r.maybeCapture(a,"code","0044")+":"+r.maybeCapture(a,"name",e.name,".*?")+":"+r.maybeCapture(a,"line",e.line,".*")+"$";return r.parse(t)}static message(e){return void 0===e&&(e={}),r.validateParams(e,"message",["timestamp","code","line","capture"]),r.gameLog({line:e.line,capture:e.capture,code:"0839"})}static gameLog(e){void 0===e&&(e={}),r.validateParams(e,"gameLog",["timestamp","code","line","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 00:"+r.maybeCapture(a,"code",e.code,"....")+":"+r.maybeCapture(a,"line",e.line,".*")+"$";return r.parse(t)}static gameNameLog(e){void 0===e&&(e={}),r.validateParams(e,"gameNameLog",["timestamp","code","name","line","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 00:"+r.maybeCapture(a,"code",e.code,"....")+":"+r.maybeCapture(a,"name",e.name,"[^:]*")+":"+r.maybeCapture(a,"line",e.line,".*")+"$";return r.parse(t)}static statChange(e){void 0===e&&(e={}),r.validateParams(e,"statChange",["timestamp","job","strength","dexterity","vitality","intelligence","mind","piety","attackPower","directHit","criticalHit","attackMagicPotency","healMagicPotency","determination","skillSpeed","spellSpeed","tenacity","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 0C:Player Stats: "+r.maybeCapture(a,"job",e.job,"\\d+")+":"+r.maybeCapture(a,"strength",e.strength,"\\d+")+":"+r.maybeCapture(a,"dexterity",e.dexterity,"\\d+")+":"+r.maybeCapture(a,"vitality",e.vitality,"\\d+")+":"+r.maybeCapture(a,"intelligence",e.intelligence,"\\d+")+":"+r.maybeCapture(a,"mind",e.mind,"\\d+")+":"+r.maybeCapture(a,"piety",e.piety,"\\d+")+":"+r.maybeCapture(a,"attackPower",e.attackPower,"\\d+")+":"+r.maybeCapture(a,"directHit",e.directHit,"\\d+")+":"+r.maybeCapture(a,"criticalHit",e.criticalHit,"\\d+")+":"+r.maybeCapture(a,"attackMagicPotency",e.attackMagicPotency,"\\d+")+":"+r.maybeCapture(a,"healMagicPotency",e.healMagicPotency,"\\d+")+":"+r.maybeCapture(a,"determination",e.determination,"\\d+")+":"+r.maybeCapture(a,"skillSpeed",e.skillSpeed,"\\d+")+":"+r.maybeCapture(a,"spellSpeed",e.spellSpeed,"\\d+")+":0:"+r.maybeCapture(a,"tenacity",e.tenacity,"\\d+");return r.parse(t)}static changeZone(e){void 0===e&&(e={}),r.validateParams(e,"statChange",["timestamp","name","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 01:Changed Zone to "+r.maybeCapture(a,"name",e.name,".*?")+"\\.";return r.parse(t)}static network6d(e){void 0===e&&(e={}),r.validateParams(e,"network6d",["timestamp","instance","command","data0","data1","data2","data3","capture"]);const a=r.trueIfUndefined(e.capture),t=r.maybeCapture(a,"timestamp","\\y{Timestamp}")+" 21:"+r.maybeCapture(a,"instance",e.instance,".*?")+":"+r.maybeCapture(a,"command",e.command,".*?")+":"+r.maybeCapture(a,"data0",e.data0,".*?")+":"+r.maybeCapture(a,"data1",e.data1,".*?")+":"+r.maybeCapture(a,"data2",e.data2,".*?")+":"+r.maybeCapture(a,"data3",e.data3,".*?")+"$";return r.parse(t)}static maybeCapture(e,a,t,n){return t||(t=n),t=r.anyOf(t),e?r.namedCapture(a,t):t}static optional(e){return`(?:${e})?`}static namedCapture(e,a){return e.includes(">")&&console.error('"'+e+'" contains ">".'),e.includes("<")&&console.error('"'+e+'" contains ">".'),"(?<"+e+">"+a+")"}static anyOf(...e){let a;if(1===e.length){if(!Array.isArray(e[0]))return e[0];a=e[0]}else a=e;let t="(?:"+(a[0]instanceof RegExp?a[0].source:a[0]);for(let e=1;e<a.length;++e)t+="|"+(a[e]instanceof RegExp?a[e].source:a[e]);return t+=")",t}static parse(e){const a={Timestamp:"^.{14}",NetTimestamp:".{33}",NetField:"(?:[^|]*\\|)",LogType:"[0-9A-Fa-f]{2}",AbilityCode:"[0-9A-Fa-f]{1,8}",ObjectId:"[0-9A-F]{8}",Name:"(?:[^\\s:|]+(?: [^\\s:|]+)?|)",Float:"-?[0-9]+(?:[.,][0-9]+)?(?:E-?[0-9]+)?"};let t="i";return e instanceof RegExp&&(t+=(e.global?"g":"")+(e.multiline?"m":""),e=e.source),e=e.replace(/\\y\{(.*?)\}/g,(e,t)=>a[t]||e),new RegExp(e,t)}static parseGlobal(e){const a=r.parse(e);let t="gi";return t+=e.multiline?"m":"",new RegExp(a.source,t)}static trueIfUndefined(e){return void 0===e||!!e}static validateParams(e,a,t){if(null===e)return;if("object"!=typeof e)return;const r=Object.keys(e);for(let e=0;e<r.length;++e){const n=r[e];if(!t.includes(n))throw new Error(`${a}: invalid parameter '${n}'.  Valid params: `+JSON.stringify(t))}}}},5:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));const r=(()=>{const e=["GLA","PLD","MRD","WAR","DRK","GNB"],a=["CNJ","WHM","SCH","AST"],t=["PGL","MNK","LNC","DRG","ROG","NIN","SAM"],r=["ARC","BRD","DNC","MCH"],n=["BLU","RDM","BLM","SMN","ACN","THM"],o=[...t,...r,...n],i=["CRP","BSM","ARM","GSM","LTW","WVR","ALC","CUL"],s=["MIN","BTN","FSH"],l=["BLU",...e,...t],d=["BLU",...e,...r],u=["BLM","BLU",...a],c=[...t],p=[...n],m=["BLU","BRD",...a],h=["tank","healer","dps","crafter","gatherer","none"],f={0:"NONE",1:"GLA",2:"PGL",3:"MRD",4:"LNC",5:"ARC",6:"CNJ",7:"THM",8:"CRP",9:"BSM",10:"ARM",11:"GSM",12:"LTW",13:"WVR",14:"ALC",15:"CUL",16:"MIN",17:"BTN",18:"FSH",19:"PLD",20:"MNK",21:"WAR",22:"DRG",23:"BRD",24:"WHM",25:"BLM",26:"ACN",27:"SMN",28:"SCH",29:"ROG",30:"NIN",31:"MCH",32:"DRK",33:"AST",34:"SAM",35:"RDM",36:"BLU",37:"GNB",38:"DNC"},g=(()=>{const t=(e,a,t)=>a.forEach(a=>e.set(a,t)),r=new Map([["NONE","none"]]);return t(r,e,"tank"),t(r,a,"healer"),t(r,o,"dps"),t(r,i,"crafter"),t(r,s,"gatherer"),new Proxy(r,{get:function(e,a){return e.has(a)?e.get(a):(console.log("Unknown job role "+a),"")}})})();return{jobEnumToJob:e=>f[e],jobToJobEnum:e=>Object.keys(f).find(a=>f[a]===e),jobToRole:e=>g[e],getAllRoles:()=>h,isTankJob:a=>e.includes(a),isHealerJob:e=>a.includes(e),isMeleeDpsJob:e=>t.includes(e),isRangedDpsJob:e=>r.includes(e),isCasterDpsJob:e=>n.includes(e),isDpsJob:e=>o.includes(e),isCraftingJob:e=>i.includes(e),isGatheringJob:e=>s.includes(e),isCombatJob:function(e){return!this.isCraftingJob(e)&&!this.isGatheringJob(e)},canStun:e=>l.includes(e),canSilence:e=>d.includes(e),canSleep:e=>u.includes(e),canCleanse:e=>m.includes(e),canFeint:e=>c.includes(e),canAddle:e=>p.includes(e)}})();!function(){if("undefined"==typeof location)return;const e=/[\?&]OVERLAY_WS=([^&]+)/.exec(location.href);let a=null,t=[],r=0;const n={},o={};let i=null;if(e){i=e=>{t?t.push(e):a.send(JSON.stringify(e))};const r=function(){a=new WebSocket(e[1]),a.addEventListener("error",e=>{console.error(e)}),a.addEventListener("open",()=>{console.log("Connected!");const e=t;t=null,i({call:"subscribe",events:Object.keys(o)});for(const a of e)i(a)}),a.addEventListener("message",e=>{try{e=JSON.parse(e.data)}catch(a){return void console.error("Invalid message received: ",e)}void 0!==e.rseq&&n[e.rseq]?(n[e.rseq](e),delete n[e.rseq]):s(e)}),a.addEventListener("close",()=>{t=[],console.log("Trying to reconnect..."),setTimeout(()=>{r()},300)})};r()}else{i=(e,a)=>{t?t.push([e,a]):OverlayPluginApi.callHandler(JSON.stringify(e),a)};const e=function(){if(!window.OverlayPluginApi||!window.OverlayPluginApi.ready)return void setTimeout(e,300);const a=t;t=null,window.__OverlayCallback=s,i({call:"subscribe",events:Object.keys(o)},null);for(const[e,t]of a)i(e,t)};e()}function s(e){if(o[e.type])for(const a of o[e.type])a(e)}window.dispatchOverlayEvent=s,window.addOverlayListener=(e,a)=>{o[e]||(o[e]=[],t||i({call:"subscribe",events:[e]})),o[e].push(a)},window.removeOverlayListener=(e,a)=>{if(o[e]){const t=o[e],r=t.indexOf(a);r>-1&&t.splice(r,1)}},window.callOverlayHandler=e=>{let t;return a?(e.rseq=r++,t=new Promise((a,t)=>{n[e.rseq]=a}),i(e)):t=new Promise(a=>{i(e,e=>{a(null===e?null:JSON.parse(e))})}),t}}()},6:function(module,__webpack_exports__,__webpack_require__){"use strict";var _conditions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_netregexes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_regexes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_responses_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_zone_id_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);const Conditions=_conditions_js__WEBPACK_IMPORTED_MODULE_0__.a,NetRegexes=_netregexes_js__WEBPACK_IMPORTED_MODULE_1__.a,Regexes=_regexes_js__WEBPACK_IMPORTED_MODULE_2__.a,Responses=_responses_js__WEBPACK_IMPORTED_MODULE_3__.a,ZoneId=_zone_id_js__WEBPACK_IMPORTED_MODULE_4__.a;class UserConfig{constructor(){this.optionTemplates={},this.savedConfig=null,this.userFileCallbacks={}}registerOptions(e,a,t){this.optionTemplates[e]=a,t&&(this.userFileCallbacks[e]=t)}getUserConfigLocation(overlayName,options,callback){let currentlyReloading=!1;const reloadOnce=()=>{currentlyReloading||(currentlyReloading=!0,window.location.reload())};window.addOverlayListener("onUserFileChanged",()=>{reloadOnce()}),window.addOverlayListener("onForceReload",()=>{reloadOnce()});const readOptions=callOverlayHandler({call:"cactbotLoadData",overlay:"options"}),loadUser=async e=>{const localFiles=e.detail.localUserFiles;let basePath=e.detail.userLocation;const jsFile=overlayName+".js",cssFile=overlayName+".css";e.detail.language&&(options.ParserLanguage=e.detail.language,options.ShortLocale=e.detail.language,options.DisplayLanguage=e.detail.language),e.detail.parserLanguage&&(options.ParserLanguage=e.detail.parserLanguage,options.Language=e.detail.parserLanguage);const supportedLanguage=["en","de","fr","ja","cn","ko"];e.detail.systemLocale&&(options.SystemLocale=e.detail.systemLocale,options.ShortLocale=e.detail.systemLocale.substring(0,2),"zh"===options.ShortLocale&&(options.ShortLocale="cn"),supportedLanguage.includes(options.ShortLocale)||(options.ShortLocale=options.ParserLanguage)),options.DisplayLanguage=e.detail.displayLanguage,supportedLanguage.includes(options.DisplayLanguage)||(options.DisplayLanguage=options.ParserLanguage||"en"),document.body.classList.add("lang-"+options.DisplayLanguage),this.addUnlockText(options.DisplayLanguage);const userOptions=await readOptions||{};this.savedConfig=userOptions.data||{},this.processOptions(options,this.savedConfig[overlayName]||{},this.optionTemplates[overlayName]);const printUserFile=options.Debug?e=>console.log(e):e=>{};if(localFiles){if(jsFile in localFiles)try{printUserFile("local user file: "+basePath+"\\"+jsFile);const Options=options;eval(localFiles[jsFile]),this.userFileCallbacks[overlayName]&&this.userFileCallbacks[overlayName](jsFile,localFiles,options)}catch(e){console.log("*** ERROR IN USER FILE ***"),console.log(e.stack)}if(this.handleSkin(options.Skin),cssFile in localFiles){printUserFile("local user file: "+basePath+"\\"+cssFile);const e=document.createElement("style");e.innerText=localFiles[cssFile],document.getElementsByTagName("head")[0].appendChild(e)}}else if(basePath){"/"!==basePath.slice(-1)&&(basePath+="/");const e=basePath+jsFile;printUserFile("remote user file: "+e),this.appendJSLink(e),this.handleSkin(options.Skin);const a=basePath+cssFile;printUserFile("remote user file: "+a),this.appendCSSLink(a)}callback&&callback(),callOverlayHandler({call:"cactbotRequestState"})};callOverlayHandler({call:"cactbotLoadUser",source:location.href}).then(e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{loadUser(e)}):loadUser(e)})}handleSkin(e){if(!e||"default"===e)return;let a=document.location.toString();const t=a.lastIndexOf("/");-1!==t&&(a=a.substr(0,t)),"/"!==a.slice(-1)&&(a+="/");const r=a+"skins/"+e+"/"+e+".css";this.appendCSSLink(r)}appendJSLink(e){const a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",e),a.setAttribute("async",!1),document.getElementsByTagName("head")[0].appendChild(a)}appendCSSLink(e){const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(a)}processOptions(e,a,t){if(Array.isArray(t)){for(let r=0;r<t.length;++r)this.processOptions(e,a,t[r]);return}if(!t)return;const r=t.options||[];for(let t=0;t<r.length;++t){const n=r[t],o=n.id in a?a[n.id]:n.default;n.setterFunc?n.setterFunc(e,o):"integer"===n.type?e[n.id]=parseInt(o):"float"===n.type?e[n.id]=parseFloat(o):e[n.id]=o}t.processExtraOptions&&t.processExtraOptions(e,a)}addUnlockText(e){const a={en:"🔓 Unlocked (lock overlay before using)",de:"🔓 Entsperrt (Sperre das Overlay vor der Nutzung)",fr:"🔓 Débloqué (Bloquez l'overlay avant utilisation)",ja:"🔓 ロック解除 (オーバーレイを使用する前にロックしてください)",cn:"🔓 已解除锁定 (你需要将此悬浮窗锁定后方可使用)",ko:"🔓 위치 잠금 해제됨 (사용하기 전에 위치 잠금을 설정하세요)"},t="cactbot-unlocked-text";let r=document.getElementById(t);r||(r=document.createElement("div"),r.id=t,r.classList.add("text"),r.style.display="none",document.body.append(r)),r.innerHTML=a[e]||a.en}}__webpack_exports__.a=new UserConfig,document.addEventListener("onOverlayStateUpdate",e=>{const a=document.documentElement.classList;e.detail.isLocked?a.remove("resizeHandle","unlocked"):a.add("resizeHandle","unlocked")})},7:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return i}));var r=t(4),n=t(0);const o={},i={};(()=>{const e={countdownStart:{en:"Battle commencing in (?<time>\\y{Float}) seconds! \\((?<player>.*?)\\)",de:"Noch (?<time>\\y{Float}) Sekunden bis Kampfbeginn! \\((?<player>.*?)\\)",fr:"Début du combat dans (?<time>\\y{Float}) secondes[ ]?! \\((?<player>.*?)\\)",ja:"戦闘開始まで(?<time>\\y{Float})秒！ \\((?<player>.*?)\\)",cn:"距离战斗开始还有(?<time>\\y{Float})秒！ （(?<player>.*?)）",ko:"전투 시작 (?<time>\\y{Float})초 전! \\((?<player>.*?)\\)"},countdownEngage:{en:"Engage!",de:"Start!",fr:"À l'attaque[ ]?!",ja:"戦闘開始！",cn:"战斗开始！",ko:"전투 시작!"},countdownCancel:{en:"Countdown canceled by (?<player>\\y{Name})",de:"(?<player>\\y{Name}) hat den Countdown abgebrochen",fr:"Le compte à rebours a été interrompu par (?<player>\\y{Name})[ ]?\\.",ja:"(?<player>\\y{Name})により、戦闘開始カウントがキャンセルされました。",cn:"(?<player>\\y{Name})取消了战斗开始倒计时。",ko:"(?<player>\\y{Name}) 님이 초읽기를 취소했습니다\\."},areaSeal:{en:"(?<area>.*?) will be sealed off in (?<time>\\y{Float}) seconds!",de:"Noch (?<time>\\y{Float}) Sekunden, bis sich (?<area>.*?) schließt",fr:"Fermeture (?<area>.*?) dans (?<time>\\y{Float}) secondes[ ]?\\.",ja:"(?<area>.*?)の封鎖まであと(?<time>\\y{Float})秒",cn:"距(?<area>.*?)被封锁还有(?<time>\\y{Float})秒",ko:"(?<time>\\y{Float})초 후에 (?<area>.*?)(이|가) 봉쇄됩니다\\."},areaUnseal:{en:"(?<area>.*?) is no longer sealed.",de:"(?<area>.*?) öffnet sich erneut.",fr:"Ouverture (?<area>.*?)[ ]?!",ja:"(?<area>.*?)の封鎖が解かれた……",cn:"(?<area>.*?)的封锁解除了",ko:"(?<area>.*?)의 봉쇄가 해제되었습니다\\."},craftingStart:{en:"You begin synthesizing (?<count>(an?|\\d+) )?(?<recipe>.*)\\.",de:"Du hast begonnen, durch Synthese (?<count>(ein(e|es|em|er)?|\\d+) )?(?<recipe>.*) herzustellen\\.",fr:"Vous commencez à fabriquer (?<count>(une?|\\d+) )?(?<recipe>.*)\\.",ja:"(?<player>\\y{Name})は(?<recipe>.*)(×(?<count>\\d+))?の製作を開始した。",cn:"(?<player>\\y{Name})开始制作“(?<recipe>.*)”(×(?<count>\\d+))?。",ko:"(?<recipe>.*)(×(?<count>\\d+)개)? 제작을 시작합니다\\."},trialCraftingStart:{en:"You begin trial synthesis of (?<recipe>.*)\\.",de:"Du hast mit der Testsynthese von (?<recipe>.*) begonnen\\.",fr:"Vous commencez une synthèse d'essai pour une? (?<recipe>.*)\\.",ja:"(?<player>\\y{Name})は(?<recipe>.*)の製作練習を開始した。"},craftingFinish:{en:"You synthesize (?<count>(an?|\\d+) )?(?<recipe>.*)()?\\.",de:"Du hast erfolgreich (?<count>(ein(e|es|em|er)?|\\d+) )?(?<recipe>.*)()? hergestellt\\.",fr:"Vous fabriquez (?<count>(une?|\\d+) )?(?<recipe>.*)()?\\.",ja:"(?<player>\\y{Name})は(?<recipe>.*)()?(×(?<count>\\d+))?を完成させた！",cn:"(?<player>\\y{Name})制作“(?<recipe>.*)()?”(×(?<count>\\d+))?成功！",ko:"(?<player>\\y{Name}) 님이 (?<recipe>.*)()?(×(?<count>\\d+)개)?(을|를) 완성했습니다!"},trialCraftingFinish:{en:"Your trial synthesis of (?<recipe>.*) proved a success!",de:"Die Testsynthese von (?<recipe>.*) war erfolgreich!",fr:"Votre synthèse d'essai pour fabriquer (?<recipe>.*) a été couronnée de succès!",ja:"(?<player>\\y{Name})は(?<recipe>.*)の製作練習に成功した！"},craftingFail:{en:"Your synthesis fails!",de:"Deine Synthese ist fehlgeschlagen!",fr:"La synthèse échoue\\.{3}",ja:"(?<player>\\y{Name})は製作に失敗した……",cn:"(?<player>\\y{Name})制作失败了……",ko:"제작에 실패했습니다……\\."},trialCraftingFail:{en:"Your trial synthesis of (?<recipe>.*) failed\\.{3}",de:"Die Testsynthese von (?<recipe>.*) ist fehlgeschlagen\\.{3}",fr:"Votre synthèse d'essai pour fabriquer (?<recipe>.*) s'est soldée par un échec\\.{3}",ja:"(?<player>\\y{Name})は(?<recipe>.*)の製作練習に失敗した……"},craftingCancel:{en:"You cancel the synthesis\\.",de:"Du hast die Synthese abgebrochen\\.",fr:"La synthèse est annulée\\.",ja:"(?<player>\\y{Name})は製作を中止した。",cn:"(?<player>\\y{Name})中止了制作作业。",ko:"제작을 중지했습니다\\."},trialCraftingCancel:{en:"You abandoned trial synthesis\\.",de:"Testsynthese abgebrochen\\.",fr:"Vous avez interrompu la synthèse d'essai\\.",ja:"(?<player>\\y{Name})は製作練習を中止した。"}};for(const[a,t]of Object.entries(e)){o[a]={},i[a]={};for(const[e,s]of Object.entries(t))o[a][e]=r.a.gameLog({line:s+".*?"}),i[a][e]=n.a.gameLog({line:s+"[^|]*?"})}})()}});